# Resolution API paths
# Auto-generated by export_openapi.py

/resolution/candidates:
  get:
    tags:
    - Resolution
    summary: List Candidates
    description: List pending resolution candidates with pagination.
    operationId: list_candidates_resolution_candidates_get
    security:
    - HTTPBearer: []
    parameters:
    - name: status
      in: query
      required: false
      schema:
        type: string
        pattern: ^(pending|in_progress|all)$
        default: pending
        title: Status
    - name: priority
      in: query
      required: false
      schema:
        anyOf:
        - type: string
        - type: 'null'
        title: Priority
    - name: strategy
      in: query
      required: false
      schema:
        anyOf:
        - type: string
        - type: 'null'
        title: Strategy
    - name: limit
      in: query
      required: false
      schema:
        type: integer
        maximum: 100
        minimum: 1
        default: 20
        title: Limit
    - name: offset
      in: query
      required: false
      schema:
        type: integer
        minimum: 0
        default: 0
        title: Offset
    responses:
      '200':
        description: Successful Response
        content:
          application/json:
            schema: {}
      '422':
        description: Validation Error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HTTPValidationError'
/resolution/candidates/{candidate_id}/merge:
  post:
    tags:
    - Resolution
    summary: Merge Candidate
    description: Approve and merge a resolution candidate.
    operationId: merge_candidate_resolution_candidates__candidate_id__merge_post
    security:
    - HTTPBearer: []
    parameters:
    - name: candidate_id
      in: path
      required: true
      schema:
        type: string
        format: uuid
        title: Candidate Id
    responses:
      '200':
        description: Successful Response
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResolutionActionResponse'
      '422':
        description: Validation Error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HTTPValidationError'
/resolution/candidates/{candidate_id}/reject:
  post:
    tags:
    - Resolution
    summary: Reject Candidate
    description: Reject a resolution candidate.
    operationId: reject_candidate_resolution_candidates__candidate_id__reject_post
    security:
    - HTTPBearer: []
    parameters:
    - name: candidate_id
      in: path
      required: true
      schema:
        type: string
        format: uuid
        title: Candidate Id
    responses:
      '200':
        description: Successful Response
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResolutionActionResponse'
      '422':
        description: Validation Error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HTTPValidationError'
/resolution/trigger:
  post:
    tags:
    - Resolution
    summary: Trigger Resolution
    description: Trigger a resolution run.
    operationId: trigger_resolution_resolution_trigger_post
    security:
    - HTTPBearer: []
    parameters:
    - name: entity_type
      in: query
      required: false
      schema:
        type: string
        pattern: ^(Organization|Person|Outlet|all)$
        default: all
        title: Entity Type
    - name: dry_run
      in: query
      required: false
      schema:
        type: boolean
        default: false
        title: Dry Run
    responses:
      '200':
        description: Successful Response
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResolutionTriggerResponse'
      '422':
        description: Validation Error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HTTPValidationError'
/resolution/stats:
  get:
    tags:
    - Resolution
    summary: Resolution Stats
    description: Get resolution queue statistics.
    operationId: resolution_stats_resolution_stats_get
    responses:
      '200':
        description: Successful Response
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResolutionStatsResponse'
    security:
    - HTTPBearer: []
/resolution/cross-border:
  post:
    tags:
    - Resolution
    summary: Run Cross Border Resolution
    description: 'Run cross-border entity resolution.


      Links foreign grant recipients (from IRS 990 Schedule I) to known

      entities in target countries (e.g., CRA charities in Canada).


      Request body:

      - target_country: Country code (default: CA)

      - limit: Maximum grants to process (default: 100)

      - auto_merge_threshold: Confidence threshold for auto-merge (default: 0.9)

      - auto_merge: Whether to auto-merge (default: true)


      Returns resolution statistics and list of results.'
    operationId: run_cross_border_resolution_resolution_cross_border_post
    requestBody:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CrossBorderRequest'
      required: true
    responses:
      '200':
        description: Successful Response
        content:
          application/json:
            schema: {}
      '422':
        description: Validation Error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HTTPValidationError'
    security:
    - HTTPBearer: []
/resolution/cross-border/unresolved:
  get:
    tags:
    - Resolution
    summary: Get Unresolved Grants
    description: 'Get list of unresolved foreign grants.


      Returns grants that have recipients in the target country

      but haven''t been linked to known entities (no BN).'
    operationId: get_unresolved_grants_resolution_cross_border_unresolved_get
    security:
    - HTTPBearer: []
    parameters:
    - name: country
      in: query
      required: false
      schema:
        type: string
        description: Target country code
        default: CA
        title: Country
      description: Target country code
    - name: limit
      in: query
      required: false
      schema:
        type: integer
        maximum: 500
        minimum: 1
        default: 50
        title: Limit
    responses:
      '200':
        description: Successful Response
        content:
          application/json:
            schema: {}
      '422':
        description: Validation Error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HTTPValidationError'
